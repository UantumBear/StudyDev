해킹 및 침해 대응

지난시간: 측면이동, 레터럴 

오늘:

랜섬웨어 사고의 피해와 특징

전체 침해사고 중 랜섬웨어가 차지하는 비중
KISA 는 민간 기업에 해킹사고가 나면 법적으로 신고를 받게 되어있다.
평균 1년 1000개 기업 정도가 신고 됨

랜섬웨어가 급격하게 증가한 이유가 뭘까?
돈이 되기 때문

제조업 - 생산 공정에 지장, 업무 장애, 백업 파일 감염
유통 플랫폼 - 경영, 메일 시스템, 업무 마비, 재무 데이터 복구 불가
서비스업 - 관리 장애, 세무 회계 자료 복구 불가

랜섬웨어는 대체 어떻게 막아야 하는가 는 질문이 잘못되었다고 함..
랜섬 웨어를 막는다는건 암호화를 어떻게 막아야 하는가 냐는 것.
랜섬웨어는 전체 시스템이 장악된 후 마지막에 수행되는 현상이기에

랜섬웨어는 해킹의 문제이다.
해킹 공격 자체에 대한 대응 능력을 강화해야 한다.

왜 오랫동안 해킹되어 장악된 상태로 있었는 가에 주목해야 함

주요 시스템 로그 수집/ 모니터링 확대

게이트웨이 (GW) 서버 침투를 통한 대규모 해킹
-침해 사고 분석 과정 따라가기

사고 개요
- 피해 기업의 특징
  호스팅/서비스 다수 고객 홈페이지 동시 접속 장애로 상황 인지
- 피해 내용:  153대 서버 랜섬웨어 감염
  서버에서 서비스 되는 약 5천개 도메인 접속장애 발생, 
  서버 호스팅 및 웹 호스팅 서버 피해 발생
공격 방식 : 접점 서버 장악을 통한 랜섬웨어 유포
  회사에서 운영하는 홈페이지 취약점을 통해 웹서버 해킹,
  웹 서버와 연동된 DB에 침투 후 호스팅 서버 관리계정 탈취
  호스팅 서버 관리 시 경유하는 접점 서버 침투
  호스팅 서버에 랜섬웨어 설치
  피해 서버 내부에 저장되어 있는 백업 데이터 삭제

현장에 가서 제일 먼저 보는 건 백업 서버
1. 랜섬에 감염된 시스템 하나
2. 백업 서버

어떤 프로세스가 실행되고 있었음
dd df /dev/zero of /data/.nvm/.tmp
파일을 지울 때 사용하는 것. 백업 서버를 해커가 쓰레기 데이터로 덮어씌우거나
삭제하는 것..
이 프로세스를 누가 실행시켰는가를 분석