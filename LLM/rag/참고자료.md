# RAG í‰ê°€ ì°¸ê³ ìë£Œ

## ğŸ“Š í‰ê°€ ì§€í‘œ ê´€ë ¨ ì°¸ê³ ìë£Œ

### RAGAS (RAG Assessment)
**ë…¼ë¬¸**: [RAGAS: Automated Evaluation of Retrieval Augmented Generation](https://arxiv.org/abs/2309.15217)

- **ì €ì**: Shahul Es, Jithin James, Luis Espinosa-Anke, Steven Schockaert
- **ë°œí–‰**: 2023ë…„ 9ì›”
- **ìš”ì•½**: RAG ì‹œìŠ¤í…œì˜ ìë™ í‰ê°€ë¥¼ ìœ„í•œ í”„ë ˆì„ì›Œí¬. Context Relevance, Answer Relevancy, Faithfulness ë“±ì˜ ë©”íŠ¸ë¦­ì„ í†µí•´ ê²€ìƒ‰-ìƒì„± ì‹œìŠ¤í…œì˜ í’ˆì§ˆì„ ì •ëŸ‰ì ìœ¼ë¡œ ì¸¡ì •

---

## ğŸ“š ë…¼ë¬¸ì˜ í•µì‹¬ ë‚´ìš©

### 1. ì™œ RAGASë¥¼ ë§Œë“¤ì—ˆëŠ”ê°€? (Introduction)

**ê¸°ì¡´ í‰ê°€ ë°©ì‹ì˜ í•œê³„:**
- ì‚¬ëŒì´ ì¼ì¼ì´ ì±„ì í•˜ëŠ” ë°©ì‹ â†’ ì‹œê°„ê³¼ ë¹„ìš© ê³¼ë‹¤ ì†Œìš”
- ë‹¨ìˆœ ë‹¨ì–´ ì¼ì¹˜ ë°©ì‹(ROUGE, BLEU ë“±) â†’ ì˜ë¯¸ì  ì´í•´ ë¶€ì¡±
- **"ê·¸ëŸ´ë“¯í•œ ê±°ì§“ë§(Hallucination)"ì„ ì¡ì•„ë‚´ì§€ ëª»í•¨**

**RAGASì˜ í•µì‹¬ ì œì•ˆ:**
> **"LLMì„ ì‹¬íŒê´€ìœ¼ë¡œ ì¨ì„œ(LLM-as-a-judge), ì‚¬ëŒì²˜ëŸ¼ ì˜ë¯¸ë¥¼ ì±„ì í•˜ê²Œ í•˜ì"**

ì´ë¥¼ í†µí•´ RAG ì‹œìŠ¤í…œì˜ í’ˆì§ˆì„ ìë™ìœ¼ë¡œ, ê·¸ëŸ¬ë‚˜ ì˜ë¯¸ì ìœ¼ë¡œ ì •í™•í•˜ê²Œ í‰ê°€í•  ìˆ˜ ìˆëŠ” í”„ë ˆì„ì›Œí¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### 2. 3ê°€ì§€ í•µì‹¬ ì§€í‘œ (Core Metrics)

#### ğŸ¯ Faithfulness (ì‹ ë¢°ì„±)
- **ì¸¡ì • ëŒ€ìƒ**: ìƒì„±ëœ ë‹µë³€ì´ **"ê²€ìƒ‰ëœ ë¬¸ì„œ(Context)ì—ì„œ ìœ ì¶” ê°€ëŠ¥í•œê°€?"**
- **í•µì‹¬ ëª©ì **: **í• ë£¨ì‹œë„¤ì´ì…˜ ë°©ì§€** - RAGì˜ ê°€ì¥ ì¤‘ìš”í•œ í’ˆì§ˆ ì§€í‘œ
- **í‰ê°€ ë°©ì‹**: ë‹µë³€ì˜ ê° ì£¼ì¥ì´ ì œê³µëœ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë’·ë°›ì¹¨ë˜ëŠ”ì§€ ê²€ì¦

#### ğŸ¯ Answer Relevance (ë‹µë³€ ê´€ë ¨ì„±)  
- **ì¸¡ì • ëŒ€ìƒ**: ë‹µë³€ì´ **"ì‚¬ìš©ìì˜ ì§ˆë¬¸ ì˜ë„ì— ë§ëŠ”ê°€?"**
- **í•µì‹¬ ëª©ì **: **ë™ë¬¸ì„œë‹µ ë°©ì§€** - ì§ˆë¬¸ê³¼ ë¬´ê´€í•œ ë‹µë³€ ì°¨ë‹¨
- **í‰ê°€ ë°©ì‹**: ì§ˆë¬¸-ë‹µë³€ ê°„ì˜ ì˜ë¯¸ì  ê´€ë ¨ì„± ì¸¡ì •

#### ğŸ¯ Context Relevance (ë¬¸ë§¥ ê´€ë ¨ì„±)
- **ì¸¡ì • ëŒ€ìƒ**: ê²€ìƒ‰ëœ ë¬¸ì„œê°€ **"ì“¸ë°ì—†ëŠ” ë‚´ìš© ì—†ì´ í•µì‹¬ë§Œ ì˜ ê°€ì ¸ì™”ëŠ”ê°€?"**
- **í•µì‹¬ ëª©ì **: **ê²€ìƒ‰ í’ˆì§ˆ í–¥ìƒ** - ë…¸ì´ì¦ˆ ì—†ëŠ” ì •í™•í•œ ì»¨í…ìŠ¤íŠ¸ í™•ë³´  
- **í‰ê°€ ë°©ì‹**: ê²€ìƒ‰ëœ ì»¨í…ìŠ¤íŠ¸ì˜ ì§ˆë¬¸ ê´€ë ¨ì„± ì •ë„ í‰ê°€

### 3. ì§€í‘œì˜ ì‹ ë¢°ì„± ê²€ì¦ (Experimental Validation)

**í•µì‹¬ ì‹¤í—˜ ê²°ê³¼:**
> ë…¼ë¬¸ì—ì„œ ì œì‹œí•œ RAGAS ì§€í‘œë“¤ì´ **"ì‚¬ëŒì´ ì§ì ‘ ì±„ì í•œ ì ìˆ˜(Human Evaluation)ì™€ ë§¤ìš° ë†’ì€ ìƒê´€ê´€ê³„"**ë¥¼ ë³´ì„ì„ ì‹¤í—˜ì ìœ¼ë¡œ ì¦ëª…

**ê²€ì¦ ë°©ë²•:**
- ë‹¤ì–‘í•œ ë„ë©”ì¸ì˜ ë°ì´í„°ì…‹ ì‚¬ìš©
- ì‚¬ëŒ í‰ê°€ìì™€ RAGAS ìë™ í‰ê°€ ê²°ê³¼ ë¹„êµ
- í†µê³„ì  ìƒê´€ê´€ê³„ ë¶„ì„

> *ğŸ“„ ìƒì„¸í•œ ì‹¤í—˜ ê²°ê³¼ ë° í˜ì´ì§€ ì •ë³´ëŠ” ì›ë³¸ ë…¼ë¬¸ ì°¸ì¡° í•„ìš”*

#### ì£¼ìš” í‰ê°€ ë©”íŠ¸ë¦­

| ë©”íŠ¸ë¦­ | ì„¤ëª… | ì¸¡ì • ëŒ€ìƒ |
|--------|------|-----------|
| **Context Relevance** | ê²€ìƒ‰ëœ ì»¨í…ìŠ¤íŠ¸ê°€ ì§ˆë¬¸ê³¼ ì–¼ë§ˆë‚˜ ê´€ë ¨ìˆëŠ”ì§€ | ê²€ìƒ‰ í’ˆì§ˆ |
| **Answer Relevancy** | ìƒì„±ëœ ë‹µë³€ì´ ì§ˆë¬¸ê³¼ ì–¼ë§ˆë‚˜ ê´€ë ¨ìˆëŠ”ì§€ | ìƒì„± í’ˆì§ˆ |
| **Faithfulness** | ë‹µë³€ì´ ì œê³µëœ ì»¨í…ìŠ¤íŠ¸ì— ì–¼ë§ˆë‚˜ ì¶©ì‹¤í•œì§€ | í™˜ê° ë°©ì§€ |
| **Context Precision** | ê´€ë ¨ ìˆëŠ” ì»¨í…ìŠ¤íŠ¸ì˜ ìˆœìœ„ê°€ ì–¼ë§ˆë‚˜ ë†’ì€ì§€ | ë­í‚¹ í’ˆì§ˆ |
| **Context Recall** | ëª¨ë“  ê´€ë ¨ ì»¨í…ìŠ¤íŠ¸ê°€ ê²€ìƒ‰ë˜ì—ˆëŠ”ì§€ | ê²€ìƒ‰ ì™„ì „ì„± |

#### í™œìš© ë°©ë²•
```python
from ragas import evaluate
from ragas.metrics import (
    ContextRelevance,
    AnswerRelevancy,
    Faithfulness
)

# í‰ê°€ ë°ì´í„° ì¤€ë¹„
dataset = Dataset.from_dict({
    'question': [...],
    'answer': [...],
    'contexts': [...],
    'ground_truth': [...]
})

# í‰ê°€ ì‹¤í–‰
result = evaluate(
    dataset,
    metrics=[
        ContextRelevance(),
        AnswerRelevancy(),
        Faithfulness()
    ]
)
```

---

## ğŸ”— ê´€ë ¨ ë§í¬

- **RAGAS GitHub**: https://github.com/explodinggradients/ragas
- **RAGAS ë¬¸ì„œ**: https://docs.ragas.io/
- **Hugging Face**: https://huggingface.co/spaces/explodinggradients/ragas

---

## ğŸ“ ë©”ëª¨

- OpenAI API ê¶Œì¥ (ì•ˆì •ì  í‰ê°€)
- ë¬´ë£Œ ë²„ì „ GeminiëŠ” í• ë‹¹ëŸ‰ ì œí•œ ìˆìŒ
- í‰ê°€ìš© LLMê³¼ RAG ì‹œìŠ¤í…œì˜ LLMì€ ë…ë¦½ì 
- ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œëŠ” OpenAI/Azure OpenAI ì‚¬ìš© ê¶Œì¥